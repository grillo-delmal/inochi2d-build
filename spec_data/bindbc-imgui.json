{
    "license": "BSL-1.0 and MIT",
    "requires" : [
        "cmake",
        "gcc",
        "gcc-c++",
        "freetype-devel",
        "SDL2-devel"
    ],
    "prep" : [
        "# cimgui",
        "tar -xzf %{SOURCE1}",
        "rm -rf deps/cimgui",
        "mv cimgui-%{cimgui_commit} deps/cimgui",
        "",
        "tar -xzf %{SOURCE2}",
        "rm -rf deps/cimgui/imgui",
        "mv imgui-%{imgui_commit} deps/cimgui/imgui",
        "",
        "rm -rf deps/freetype",
        "rm -rf deps/glbinding",
        "rm -rf deps/glfw",
        "rm -rf deps/SDL",
        "",
        "# FIX: Make bindbc-imgui submodule checking only check cimgui",
        "rm -f .gitmodules",
        "cat > .gitmodules <<EOF",
        "[submodule \"deps/cimgui\"]",
        "   path = deps/cimgui",
        "   url = https://github.com/Inochi2D/cimgui.git",
        "EOF",
        "mkdir -p deps/cimgui/.git",
        ""
    ],
    "install": [
        "# Dependency licenses",
        "install -d ${RPM_BUILD_ROOT}%{_datadir}/licenses/%{name}-devel/./deps/cimgui/",
        "install -p -m 644 ./deps/cimgui/LICENSE \\",
        "    ${RPM_BUILD_ROOT}%{_datadir}/licenses/%{name}-devel/./deps/cimgui/LICENSE",
        "install -d ${RPM_BUILD_ROOT}%{_datadir}/licenses/%{name}-devel/./deps/imgui/",
        "install -p -m 644 ./deps/cimgui/imgui/LICENSE.txt \\",
        "    ${RPM_BUILD_ROOT}%{_datadir}/licenses/%{name}-devel/./deps/imgui/LICENSE.txt",
        ""
    ],
    "files": [
        "%{_datadir}/licenses/%{name}-devel/*",
        ""
    ]
}